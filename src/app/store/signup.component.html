<div class="container mt-5 d-flex justify-content-center">
  <div
    class="card shadow-lg border-0"
    style="max-width: 420px; width: 100%; border-radius: 18px"
  >
    <div
      class="card-header bg-gradient-primary text-white text-center"
      style="
        border-radius: 18px 18px 0 0;
        background: linear-gradient(90deg, #0d6efd 60%, #5bc0de 100%);
      "
    >
      <h4 class="mb-0 fw-bold letter-spacing-1">Sign Up</h4>
    </div>
    <div
      *ngIf="errorMessage"
      class="alert alert-success alert-dismissible fade show mt-3 mx-3"
      role="alert"
      style="border-radius: 8px"
    >
      {{ errorMessage }}
      <button
        type="button"
        class="btn-close"
        aria-label="Close"
        (click)="onAlertClose()"
      ></button>
    </div>
    <div class="card-body p-4">
      <form action="" #fg="ngForm" (ngSubmit)="addUser(fg)" novalidate>
        <div class="form-group mb-3">
          <label for="name" class="form-label fw-semibold">Name</label>
          <input
            type="text"
            id="name"
            name="name"
            class="form-control rounded-pill px-3"
            [(ngModel)]="users.name"
            #name="ngModel"
            required
            minlength="3"
            [ngClass]="{
              'is-invalid': name.invalid && name.touched,
              'is-valid': name.valid && name.touched
            }"
          />
          <div
            *ngIf="name.invalid && name.touched"
            class="invalid-feedback ps-2"
          >
            Name is required (min 3 characters)
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="email" class="form-label fw-semibold">Email</label>
          <input
            type="email"
            id="email"
            name="email"
            class="form-control rounded-pill px-3"
            [(ngModel)]="users.email"
            #email="ngModel"
            required
            email
            [ngClass]="{
              'is-invalid': email.invalid && email.touched,
              'is-valid': email.valid && email.touched
            }"
          />
          <div
            *ngIf="email.invalid && email.touched"
            class="invalid-feedback ps-2"
          >
            Please enter a valid email
          </div>
        </div>

        <div class="form-group mb-3">
          <label for="password" class="form-label fw-semibold">Password</label>
          <input
            type="password"
            id="password"
            name="password"
            class="form-control rounded-pill px-3"
            [(ngModel)]="users.password"
            #password="ngModel"
            required
            minlength="6"
            [ngClass]="{
              'is-invalid': password.invalid && password.touched,
              'is-valid': password.valid && password.touched
            }"
          />
          <div
            *ngIf="password.invalid && password.touched"
            class="invalid-feedback ps-2"
          >
            Password is required (min 6 characters)
          </div>
        </div>

        <div class="form-group mb-4">
          <label for="phoneNumber" class="form-label fw-semibold"
            >Phone Number</label
          >
          <input
            type="text"
            id="phoneNumber"
            name="phoneNumber"
            class="form-control rounded-pill px-3"
            [(ngModel)]="users.phoneNumber"
            #phonenumber="ngModel"
            required
            pattern="^[0-9]{10}$"
            [ngClass]="{
              'is-invalid': phonenumber.invalid && phonenumber.touched,
              'is-valid': phonenumber.valid && phonenumber.touched
            }"
          />
          <div
            *ngIf="phonenumber.invalid && phonenumber.touched"
            class="invalid-feedback ps-2"
          >
            Please enter a valid 10-digit phone number
          </div>
        </div>

        <button
          type="submit"
          class="btn btn-gradient w-100 py-2 fw-bold rounded-pill"
          [disabled]="fg.invalid"
          style="
            background: linear-gradient(90deg, #0d6efd 60%, #5bc0de 100%);
            color: #fff;
            letter-spacing: 1px;
          "
        >
          Register
        </button>
        <button
          type="submit"
          class="btn btn-gradient w-100 py-2 fw-bold rounded-pill"
          style="
            background: linear-gradient(90deg, #0d6efd 60%, #5bc0de 100%);
            color: #fff;
            letter-spacing: 1px;
          "
          routerLink="/signin"
          class="mt-3"
        >
          existing user ? login
        </button>
      </form>
    </div>
  </div>
</div>
